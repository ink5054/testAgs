"use strict";(self.webpackChunkwebpack=self.webpackChunkwebpack||[]).push([[524],{466:()=>{},108:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Device=void 0,t.Device=class{static isMobile(){return navigator.userAgent.includes("Mobile")||window.innerWidth<500}}},916:function(e,t,r){var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const n=r(290);$(document).ready((()=>i(void 0,void 0,void 0,(function*(){const e=new n.PhoneNumbers;yield e.renderNumbers()}))))},933:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.regionStorage=void 0,t.regionStorage=function(e){return window.regions.find((t=>t.id===e))}},290:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneNumbers=void 0;const i=r(108),n=r(195),s=r(856),o=r(971),a=r(933),l=r(789);t.PhoneNumbers=class{constructor(){this.$numbersContent=$(".numbers__content"),this.$numbersList=$(".numbers__content-list"),this.$numbersFilters=$(".numbers__filters"),this.$numbersLoadMoreBtn=$(".numbers__load-more"),this.$numbersForm=$(".numbers__filters-form"),this.$numbersCount=$(".numbers__count span"),this.$filtersCount=$(".numbers__filters-btn .circle"),this.$overlay=$(".numbers__overlay"),this.numberCounter=0,this.page=1,this.filter={},this.initListeners(),(0,s.default)(".splide"),i.Device.isMobile()||this.$overlay.removeClass("overlay")}initListeners(){this.$numbersLoadMoreBtn.on("click","button",(()=>{this.page+=this.page,this.renderNumbers()})),this.$numbersFilters.on("click","#numbers-search",(()=>{this.numberCounter=0,this.$numbersList.empty(),this.renderNumbers()})),this.$numbersFilters.on("change","#numbers-free-search",(e=>this.getFieldValue("free_search",$(e.currentTarget),"string"))),this.$numbersFilters.on("click","#numbers-categories button",(e=>this.getBtnValue("categories",$(e.currentTarget),"list"))),this.$numbersFilters.on("click","#numbers-operators button",(e=>this.getBtnValue("operators",$(e.currentTarget),"list"))),this.$numbersFilters.on("change","#numbers-regions",(e=>this.getFieldValue("region",$(e.currentTarget),"int"))),this.$numbersFilters.on("change","#numbers-min_price",(e=>this.getFieldValue("min_price",$(e.currentTarget),"int"))),this.$numbersFilters.on("change","#numbers-max_price",(e=>this.getFieldValue("max_price",$(e.currentTarget),"int")));const e=e=>this.$numbersForm.find(e);this.$numbersFilters.on("click","#numbers-clear",(()=>{e("input").val(""),e("select").val("0"),e("button").removeClass("numbers__btn--active"),this.filter={},this.updateFilterCount()})),this.$numbersContent.on("touchend click",".numbers-overlay--show",l.showOverlay),this.$numbersFilters.on("touchend click",".numbers-overlay--hide",l.hideOverlay)}setFilter(e,t,r,i){"list"===r?(this.filter[e]||(this.filter[e]=[]),i?this.filter[e].push(t):this.filter[e]=this.filter[e].filter((e=>e!==t)),this.filter[e].length||delete this.filter[e]):(this.filter[e]=t,this.filter[e]||delete this.filter[e]),this.updateFilterCount()}getFieldValue(e,t,r){let i;"int"===r?(i=o.StringUtils.replaceNonNumbers(t.val()),i="0"===i?"":Number(i)):i=String(t.val()),this.setFilter(e,i,r)}getBtnValue(e,t,r){t.toggleClass("numbers__btn--active");let i=t.find("span").data("id"),n=t.hasClass("numbers__btn--active");this.setFilter(e,i,r,n)}btnNumbersLoadState(e){console.log(e),this.$numbersLoadMoreBtn.toggleClass("hidden",e<10)}updateFilterCount(){this.$filtersCount.text(Object.keys(this.filter).length)}getNumbers(){return $.ajax({method:"POST",url:"/numbers/page/"+this.page,dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(this.filter),async:!1})}renderNumbers(){this.$numbersLoadMoreBtn.addClass("hidden"),this.getNumbers().then((e=>{n.show();const t=e,r=t.list.length;this.btnNumbersLoadState(r),this.numberCounter+=r,this.$numbersCount.text(this.numberCounter),$.each(t.list,((e,{number:t,operator_id:r,region_id:i,tariff_cost:n})=>{const s=(0,a.regionStorage)(i);this.$numbersList.append(`\n                                 <div class="number-item">\n                                    <div class="number-item__data flex-row">\n                                         <div class="operator-icon number-item__icon" data-id="${r}"></div>\n                                         <div>\n                                             <div class="number-item__block flex-row">\n                                                 <div class="number-item__number">${t}</div>\n                                                 <div class="number-item__expand" data-icon="chevron"></div>\n                                                 <div class="label number-item__city">${s.name}</div>\n                                             </div>\n                                             <div class="number-item__tariff">Тарифы от ${n}</div>\n                                         </div>\n                                     </div>\n                                 </div>\n                                `)})),n.hide(),i.Device.isMobile()&&(0,l.hideOverlay)()})).catch((function(e){console.error("Error:",e)}))}}},971:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtils=void 0,t.StringUtils=class{static replaceNonNumbers(e){return e.replace(/\D/g,"")}}},789:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hideOverlay=t.showOverlay=void 0;var i=r(884);Object.defineProperty(t,"showOverlay",{enumerable:!0,get:function(){return i.showOverlay}}),Object.defineProperty(t,"hideOverlay",{enumerable:!0,get:function(){return i.hideOverlay}})},884:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hideOverlay=t.showOverlay=void 0;const r=$(".overlay");t.showOverlay=()=>{r.fadeIn(1e3)},t.hideOverlay=()=>{r.fadeOut(1e3)}},195:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.$preloader=t.hide=t.show=void 0;var i=r(968);Object.defineProperty(t,"show",{enumerable:!0,get:function(){return i.show}}),Object.defineProperty(t,"hide",{enumerable:!0,get:function(){return i.hide}}),Object.defineProperty(t,"$preloader",{enumerable:!0,get:function(){return i.$preloader}})},968:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hide=t.show=t.$preloader=void 0,t.$preloader=$(".preloader"),t.show=function(){this.$preloader.removeClass("preloader--visibility")},t.hide=function(){this.$preloader.addClass("preloader--visibility")}},856:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=r(23);r(729),t.default=e=>{const t=new i.Splide(e,{perPage:2,rewind:!0,autoWidth:!0,isNavigation:!1,arrows:!1,pagination:!1});return t.mount(),t}}},e=>{var t=t=>e(e.s=t);e.O(0,[83],(()=>(t(916),t(466)))),e.O()}]);